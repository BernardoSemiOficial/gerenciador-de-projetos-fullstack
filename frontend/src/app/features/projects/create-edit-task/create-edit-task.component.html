<app-header></app-header>

@let id = taskId();
<main class="container-max-w-120rem">
  <h1 class="m-0 pt-5 px-3">
    {{ id ? "Edit your task" : "Create your task" }}
  </h1>

  <section class="my-5 px-3">
    <h2>Basic informations</h2>

    <form
      [formGroup]="createEditTaskForm"
      (ngSubmit)="onSubmit()"
      class="flex align-content-center flex-wrap justify-content-between gap-5"
    >
      <app-field-input
        [fieldId]="'name'"
        formControlName="name"
        [fieldLabel]="'name'"
        [fieldInputHelp]="'The name of your task'"
        [formControlField]="createEditTaskForm.get('name')"
      ></app-field-input>
      <app-field-textarea
        [fieldId]="'description'"
        formControlName="description"
        [fieldLabel]="'description'"
        [fieldInputHelp]="'The description of your task'"
      ></app-field-textarea>
      <app-button
        [isDisabled]="createEditTaskForm.invalid"
        class="w-full mt-5"
        [type]="'submit'"
        [label]="id ? 'edit task here' : 'create task here'"
        [icon]="PrimeIcons.PLUS"
      ></app-button>
      <app-button
        class="w-full"
        [type]="'button'"
        [label]="'clear form'"
        [icon]="PrimeIcons.TRASH"
        [isOutlined]="true"
        (click)="createEditTaskForm.reset()"
        (keydown.enter)="createEditTaskForm.reset()"
      ></app-button>
    </form>
  </section>
</main>
<app-footer></app-footer>
